package others;

//iSharp
import java.util.*;

public class problem_3568 {
	public static void main(String[] args0) {
		Scanner sc = new Scanner(System.in);
		String line = sc.nextLine();

		String[] split = line.split(" ");

		// 기본 변수형
		String base = split[0];

		for (int i = 1; i < split.length; i++) {
			split[i] = split[i].replaceAll(",", "");
			split[i] = split[i].replaceAll(";", "");
		}

		for (int i = 1; i < split.length; i++) {
			StringBuilder sb = new StringBuilder();

			for (int j = split[i].length() - 1; j >= 0; j--) {
				char tmp = split[i].charAt(j);
				if(tmp >= 'A' && tmp <= 'Z')
					break;
				if(tmp >= 'a' && tmp <= 'z')
					break;
				
				if (tmp == '[')
					tmp = ']';
				else if (tmp == ']')
					tmp = '[';

				sb.append(tmp);
			}
			
			int idx = -1;
			for (int j = sb.length() - 1; j >= 0; j--) {
				if (sb.charAt(j) >= 'a' && sb.charAt(j) <= 'z')
					continue;

				if (sb.charAt(j) >= 'A' && sb.charAt(j) <= 'Z')
					continue;

				idx = j;
				break;
			}

			sb.insert(idx+1, " ");
			System.out.println(base + sb.toString());
		}

	}
}
