package programmers;
//오픈 채팅방

import java.util.*;

public class problem_36 {
	public static void main(String[] args) {
		String[] record = {"Enter uid1234 Muzi", "Enter uid4567 Prodo","Leave uid1234","Enter uid1234 Prodo","Change uid4567 Ryan"};
		String[] result = solution(record);
		for(String t: result)
			System.out.println(t);
	}

	public static String[] solution(String[] record) {
		HashMap<String, String> map = new HashMap<>();
		Vector<String> result = new Vector<>();
		for(int i =0 ; i< record.length ; i++) {
			String [] parse = record[i].split(" ");
			if(parse[0].equals("Enter")) {
				if(map.get(parse[1]) == null)
					map.put(parse[1],parse[2]);
				String tmp = parse[1] +"님이 들어왔습니다.";
				result.add(tmp);
			}
			else if(parse[0].equals("Change")) {
				map.put(parse[1], parse[1]); //닉네임 변경
			}
			else {
				String tmp = parse[1] +"님이 나갔습니다.";
				result.add(tmp);
			}
		}
		
		for(String tmp : result) {
			for(int i =0 ; i< tmp.length() ; i++) {
				if(tmp.charAt(i) == '님') {
					String id= tmp.substring(0,i);
					String nick = map.get(id);
					tmp.replace(id, nick); //id를 닉으로 교체
				}
			}
		}
		
		String v [] = new String[result.size()];
		for(int i =0 ; i< v.length ; i++) {
			v[i] = result.get(i);
		}
		
		return v;
	}
}
