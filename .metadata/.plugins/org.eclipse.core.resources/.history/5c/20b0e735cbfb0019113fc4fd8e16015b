package programmers;

//체육복 25점 -> 41.7점(반환값 수정) -> 소스코드 바꿈 66.6점
import java.util.*;

public class problem_19 {
	public static void main(String[] args) {
		int[] lost = { 30};
		int[] reserver = {30};
		int result = solution(30, lost, reserver);
		System.out.println(result);
	}

	public static int solution(int n, int[] lost, int[] reserve) {
		boolean[] have = new boolean[n+1];
		int[] total = new int[n+1];
		int big = 0;
		Arrays.fill(total, 1); // 1로 값 채우기
		
		for (int i = 0; i < lost.length; i++) {
			total[lost[i]] = 0; // 잃어 버린 인덱스의 값을 0으로 설정
		}
		for (int i = 0; i < reserve.length; i++) {
			have[reserve[i]] = true; // 여분의 옷을 가지고 있는 인덱스를 true
		}
		total[0] = 0;
		int[] tmp = new int[n+1];
		int j = 1; // 처음은 우측
		boolean [] tmpHave = new boolean[n+1];
		for (int k = 0; k < 2; k++) {
			System.arraycopy(total, 0, tmp, 0, (n+1)); // 배열 복사
			System.arraycopy(have, 0, tmpHave, 0, (n+1));
			for (int i = 1; i < n; i++) {
				if(tmpHave[i]) {
					//여분의 체육복이 있는 경우
					if(tmp[i] == 0)
					{//자기 자신이 없는 경우
						tmp[i] = 1;
						tmpHave[i] = false;
					}
				}else {
					//여분의 체육복이 없는 경우
					if(tmpHave[i+j] && tmp[i+j] !=0) {
						//주변에 있는 경우
						tmpHave[i+j] = false;
						tmp[i] = 1;
					}
				}

			}
			int count = 0; // 1의 개수를 센다
			for (int i = 1; i < tmp.length; i++) {
				if (tmp[i] == 1)
					count++;
			}
			big = Math.max(big, count);
			j *= -1; // 다음은 좌측
		}

		return big;
	}
}
