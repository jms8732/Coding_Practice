package palindrome;

//팰린드롬 개수 구하기
import java.io.*;
import java.util.*;

public class problem_16161 {
	public static void main(String[] args) {
		BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
		try {
		String s = getModifiedString(br.readLine()); //수정된 문자열
		int r =0 , c = 0;
		int [] p = new int[s.length()];
		
		//manacher's algorithm
		for(int i =0 ; i < s.length() ; i++) {
			int mirror = 2*c-i;
			
			//우측 범위내에 존재할 경우
			if(i < r)
				p[i] = Math.min(r-i, p[mirror]);
			
			int left = i-(p[i]+1);
			int right = i+(p[i]+1);
			
			//확장
			while(right < s.length() && left >= 0 && s.charAt(left) == s.charAt(right)) {
				left--;
				right++;
				p[i]++;
			}
			
			if(i+p[i] > r) {
				//경계를 벗어 난 경우
				c = i;
				r = i + p[i];
			}
			
		}
		int count = 0;
		for(int i =0 ; i <p.length ; i++) {
			if(p[i] != 0)
				count++;
		}
		}catch(IOException e) {
			e.printStackTrace();
		}
	}
	private static String getModifiedString(String s) {
		StringBuilder sb = new StringBuilder(s);
		for(int i =0 ; i < s.length() ;i ++) {
			sb.insert(i+i, '#'); //사이에 # 삽입
		}
		
		sb.append('#'); //끝 자리에 # 삽입
		return sb.toString();
	}
}

