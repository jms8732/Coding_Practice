package programmers1;

import java.util.*;

public class problem_10_1 {
	public static void main(String[] args0) {
		int [][] result = {{4,3},{4,2},{3,2},{1,2},{2,5}};
		System.out.println(solution(5,result));
	}

	public static int solution(int n, int[][] results) {
		int [][] board=  new int[n][n];
		for(int i =0 ; i < results.length ; i++) {
			int x = results[i][0] -1;
			int y = results[i][1] -1;
			
			board[x][y] = 1;
			board[y][x] =-1;
		}
		
		for(int i =0 ; i < n ; i++) {
			for(int j =0 ; j< n ; j++) {
				if(board[i][j] == 1)
					dfs(j,i,n,board);
			}
		}
		boolean[] member = new boolean[n];
		Arrays.fill(member, true);
		for(int i =0 ; i < n ; i++) {
			for(int j = 0; j< n ; j++) {
			if(i != j && board[i][j] == 0) {
				member[i] = false;
				break;
			}
			}
		}
		int count = 0;
		for(int i =0 ; i< member.length ; i++)
			if(member[i])
				count++;
		
		return count;
	}

	private static void dfs(int x, int y, int n, int[][] board) {
		List<Integer> list = new ArrayList<>();
		for (int i = 0; i < n; i++) {
			if (board[x][i] == 1)
				list.add(i);
		}

		for (int i : list) {
			board[y][i] = 1; // ±ט
			board[i][y] = -1;// 
			dfs(i, x, n, board);
		}
	}
}
